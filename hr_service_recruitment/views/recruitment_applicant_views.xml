<?xml version="1.0"?>
<openerp>
<data>
<record id="hr_service_recruitment_applicant_view_tree" model="ir.ui.view">
    <field name="name">hr_service.recruitment_applicant tree</field>
    <field name="model">hr_service.recruitment_applicant</field>
    <field name="arch" type="xml">
        <tree>
            <field name="name"/>       
            <field name="request_id"/>
            <field name="applicant_id"/>
            <field name="date_applied"/>
            <field name="state"/>
        </tree>
    </field>
</record>

<record id="hr_service_recruitment_applicant_view_kanban" model="ir.ui.view">
    <field name="name">hr_service.recruitment_applicant kanban</field>
    <field name="model">hr_service.recruitment_applicant</field>
    <field name="arch" type="xml">
        <kanban default_group_by="stage_id">
            <field name="name"/>       
            <field name="request_id"/>
            <field name="applicant_id"/>
            <field name="date_applied"/>
            <field name="state"/>
            <templates>
                <t t-name="kanban-box">
                    <div class="oe_kanban_box oe_kanban_color_border">
                        <div class="oe_kanban_content">
                            <div class="oe_employee_details">
                                <b><field name="name"/></b>
                                <field name="applicant_id"/>
                            </div>
                        </div>
                    </div>
                </t>
            </templates>
        </kanban>
    </field>
</record>

<record id="hr_service_recruitment_applicant_view_form" model="ir.ui.view">
    <field name="name">hr_service.recruitment_applicant form</field>
    <field name="model">hr_service.recruitment_applicant</field>
    <field name="arch" type="xml">
        <form>
            <header>
                <field name="stage_id" widget="statusbar" clickable="True"/>
            </header>
            <sheet>
                <label for="name"/>
                <h1>
                    <field name="name"/>
                </h1>
                <group name="group_1" colspan="4" col="2">
                    <group name="group_1_1" colspan="1" col="2">
                        <field name="date_applied"/>
                        <field name="applicant_id"/>
                    </group>
                    <group name="group_1_2" colspan="1" col="2">
                        <field name="request_id"/>
                    </group>
                </group>
                <notebook>
                    <page name="note" string="Note">
                        <field name="note" colspan="4" nolabel="1"/>
                    </page>

                </notebook>
            </sheet>
            <div class="oe_chatter">
                <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                <field name="message_ids" widget="mail_thread"/>
            </div>
        </form>
    </field>
</record>


<record id="hr_service_recruitment_applicant_view_search" model="ir.ui.view">
    <field name="name">hr_service.recruitment_applicant search</field>
    <field name="model">hr_service.recruitment_applicant</field>
    <field name="arch" type="xml">
        <search>
            <field name="name"/>
            <field name="state"/>
            <group name="group_state" string="State">
                <filter name="filter_draft" string="Draft" domain="[('state','=','draft')]"/>
                <filter name="filter_confirm" string="Waiting for Approval" domain="[('state','=','confirm')]"/>
                <filter name="filter_open" string="Open" domain="[('state','=','open')]"/>                
                <filter name="filter_done" string="Done" domain="[('state','=','done')]"/>
                <filter name="filter_cancel" string="Cancel" domain="[('state','=','cancel')]"/>
            </group>
            <group name="group_by" string="Group By..">
                <filter name="grp_request" string="Request" context="{'group_by':'request_id'}"/>
                <filter name="grp_talent" string="Talent" context="{'group_by':'applicant_id'}"/>
                <filter name="grp_stage" string="Stage" context="{'group_by':'stage_id'}"/>

            </group>
        </search>
    </field>
</record>

<record id="hr_service_recruitment_applicant_action" model="ir.actions.act_window">
    <field name="name">Recuitment Applicant</field>
    <field name="res_model">hr_service.recruitment_applicant</field>
    <field name="view_type">form</field>
    <field name="view_mode">kanban,tree,form</field>
    <field name="search_view_id" ref="hr_service_recruitment_applicant_view_search"/>
</record>

<menuitem 
    id="hr_service_recruitment_applicant_menu"
    name="Applicant"
    parent="hr_service_recruitment_main_menu"
    action="hr_service_recruitment_applicant_action"
    sequence="2"/>

<record id="hr_service_recruitment_applicant_by_request_action" model="ir.actions.act_window">
    <field name="name">Recuitment Applicant</field>
    <field name="res_model">hr_service.recruitment_applicant</field>
    <field name="view_type">form</field>
    <field name="view_mode">kanban,tree,form</field>
    <field name="domain">[('request_id','=',active_id)]</field>
    <field name="context">{'default_request_id':active_id, 'search_default_grp_stage':1}</field>
    <field name="search_view_id" ref="hr_service_recruitment_applicant_view_search"/>
</record>


</data>
</openerp>

<?xml version="1.0"?>
<openerp>
<data>
<record id="hr_service_recruitment_request_view_tree" model="ir.ui.view">
    <field name="name">hr_service.recruitment_request tree</field>
    <field name="model">hr_service.recruitment_request</field>
    <field name="arch" type="xml">
        <tree>
            <field name="name"/>       
            <field name="company_id" groups="base.group_multi_company"/>
            <field name="partner_id"/>
            <field name="job_id"/>
            <field name="no_of_recruitment"/>
            <field name="date_request"/>
            <field name="request_by_id"/>
            <field name="state"/>
        </tree>
    </field>
</record>

<record id="hr_service_recruitment_request_view_form" model="ir.ui.view">
    <field name="name">hr_service.recruitment_request form</field>
    <field name="model">hr_service.recruitment_request</field>
    <field name="arch" type="xml">
        <form>
            <header>
                <button name="action_confirm" string="Confirm" type="object" class="oe_highlight" states="draft"/>
                <button name="action_approve" string="Approve" type="object" class="oe_highlight" states="confirm"/>
                <button name="action_done" string="Done" type="object" class="oe_highlight" states="approve"/>
                <button name="action_cancel" string="Cancel" type="object" states="draft,confirm,approve,done"/>
                <button name="action_restart" string="Restart" type="object" states="cancel"/>
                <field name="state" widget="statusbar" statusbar_visible="draft,confirm,approve,done"/>
            </header>
            <sheet>
                <label for="name"/>
                <h1>
                    <field name="name"/>
                </h1>
                <div class="oe_right oe_button_box">
                    <button name="%(hr_service_recruitment_applicant_by_request_action)d"
                        class="oe_inline oe_stat_button"
                        icon="fa-book"
                        type="action">
                        <div>
                            Applicants
                        </div>
                    </button>
                </div>
                <group name="group_1" colspan="4" col="2">
                    <group name="group_1_1" colspan="1" col="2">
                        <field name="company_id" groups="base.group_multi_company"/>
                        <field name="partner_id"/>
                        <field name="request_by_id"/>
                        <field name="date_request"/>
                    </group>
                    <group name="group_1_2" colspan="1" col="2">
                        <field name="job_id"/>
                        <field name="job_location_id"
                            context="{'show_address':1}"
                            options="{'always_reload':True}"/>
                        <field name="no_of_recruitment"/>
                        <field name="date_deadline"/>
                    </group>
                </group>
                <notebook>
                    <page name="requirement" string="Requirements">
                        <group name="requirement1" colspan="4" col="2">
                            <field name="min_year_experience"/>
                            <field name="required_skill_ids" widget="many2many_tags"/>
                            <field name="nice_to_have_skill_ids" widget="many2many_tags"/>
                        </group>
                    </page>
                    <page name="benefit" string="Benefits">
                        <group name="benefit1" colspan="4" col="2">
                            <field name="salary_currency_id"/>
                            <label for="min_salary" string="Salary Range"/>
                            <div>
                                <field name="min_salary" class="oe_inline" widget="monetary" options="{'currency_field':'salary_currency_id'}"/>
                                -
                                <field name="max_salary" class="oe_inline" widget="monetary" options="{'currency_field':'salary_currency_id'}"/>
                            </div>
                            <field name="benefit_ids" widget="many2many_tags"/>
                        </group>
                    </page>
                    <page name="stage" string="Stages">
                        <field name="stage_ids" nolabel="1" colspan="4">
                            <tree editable="top">
                                <field name="sequence" widget="handle"/>
                                <field name="stage_id"/>
                            </tree>
                        </field>
                    </page>
                    <page name="applicant" string="Applicants">
                        <group name="applicant1" colspan="4" col="2">
                            <field name="applicant_count"/>
                            <field name="accepted_applicant_count"/>
                            <field name="rejected_applicant_count"/>
                        </group>
                        <field name="applicant_ids" colspan="4" nolabel="1" readonly="1"/>
                    </page>
                    <page name="note" string="Note">
                        <field name="note" colspan="4" nolabel="1"/>
                    </page>
                </notebook>
            </sheet>
            <div class="oe_chatter">
                <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                <field name="message_ids" widget="mail_thread"/>
            </div>
        </form>
    </field>
</record>


<record id="hr_service_recruitment_request_view_search" model="ir.ui.view">
    <field name="name">hr_service.recruitment_request search</field>
    <field name="model">hr_service.recruitment_request</field>
    <field name="arch" type="xml">
        <search>
            <field name="name"/>
            <field name="state"/>
            <group name="group_state" string="State">
                <filter name="filter_draft" string="Draft" domain="[('state','=','draft')]"/>
                <filter name="filter_confirm" string="Waiting for Approval" domain="[('state','=','confirm')]"/>
                <filter name="filter_valid" string="Valid" domain="[('state','=','valid')]"/>
                <filter name="filter_cancel" string="Cancel" domain="[('state','=','cancel')]"/>
            </group>
            <group name="group_by" string="Group By..">

            </group>
        </search>
    </field>
</record>

<record id="hr_service_recruitment_request_action" model="ir.actions.act_window">
    <field name="name">Recuitment Request</field>
    <field name="res_model">hr_service.recruitment_request</field>
    <field name="view_type">form</field>
    <field name="view_mode">tree,form</field>
    <field name="search_view_id" ref="hr_service_recruitment_request_view_search"/>
</record>

<menuitem 
    id="hr_service_recruitment_request_menu"
    name="Request"
    parent="hr_service_recruitment_main_menu"
    action="hr_service_recruitment_request_action"
    sequence="1"/>


</data>
</openerp>
